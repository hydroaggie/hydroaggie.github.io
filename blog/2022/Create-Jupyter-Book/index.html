<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>A Tutorial on How to Create a Jupyter Book | Computational and Integrated Hydrology Group</title> <meta name="author" content="Pin Shuai"> <meta name="description" content="A tutorial on how to create a Jupyter Book"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="/assets/img/icon.png?e9e97d5d8228b67d85789ea82520382a"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://hydroaggie.github.io/blog/2022/Create-Jupyter-Book/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Computational and Integrated Hydrology Group</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/team.html">Members</a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">Teaching</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Submenus</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/prospective_students/">Prospective Students</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/group_handbook/">Group Handbook</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">A Tutorial on How to Create a Jupyter Book</h1> <p class="post-meta">June 15, 2022</p> <p class="post-tags"> <a href="/blog/2022"> <i class="fas fa-calendar fa-sm"></i> 2022 </a>   ·   <a href="/blog/tag/website"> <i class="fas fa-hashtag fa-sm"></i> website</a>   <a href="/blog/tag/jupyter"> <i class="fas fa-hashtag fa-sm"></i> jupyter</a>   <a href="/blog/tag/tutorial"> <i class="fas fa-hashtag fa-sm"></i> tutorial</a>     ·   <a href="/blog/category/geek"> <i class="fas fa-tag fa-sm"></i> geek</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p><em>Last updated: 2023-11-29</em></p> <p>Jupyter Book is used to build an open source, interactive book using Jupyter Notebooks and Markdowns. The best thing is that it can be easily hosted using Github Page so that people can always access the latest version of the book.</p> <h2 id="pre-requisite">Pre-requisite:</h2> <ul> <li>Github account</li> <li>Git, Python <h2 id="install-jupyter-book">Install Jupyter Book</h2> </li> <li>From the <a href="https://jupyterbook.org/en/stable/start/overview.html" rel="external nofollow noopener" target="_blank">official website</a>:</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># create virtual env</span>
conda create <span class="nt">-n</span> jupyterbook <span class="nt">-c</span> conda-forge jupyter-book
conda activate jupyterbook
</code></pre></div></div> <h2 id="create-a-book-template">Create a book template</h2> <h3 id="option-1-cookie-cutter-recommended">Option 1: cookie cutter (Recommended)</h3> <p>Using <a href="https://github.com/executablebooks/cookiecutter-jupyter-book" rel="external nofollow noopener" target="_blank">Jupyter Book cookie-cutter</a>. This will include Github Actions that can be used to automatically.</p> <ul> <li>Install <code class="language-plaintext highlighter-rouge">cookiecutter</code> </li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>pip <span class="nb">install</span> <span class="nt">-U</span> cookiecutter jupyter-book
</code></pre></div></div> <ul> <li>Create the template following prompts. The <code class="language-plaintext highlighter-rouge">PATH/TO/BOOK</code> is where you want your book folder to be created. The values within the brackets are the default values if you hit enter.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>jupyter-book create <span class="nt">--cookiecutter</span> PATH/TO/BOOK

<span class="c"># then following the screen prompt to answer the following questions:</span>
author_name <span class="o">[</span>Captain Jupyter]: Tomas Beuzen
github_username <span class="o">[</span>tomasbeuzen]:
book_name <span class="o">[</span>My Book]:
book_slug <span class="o">[</span>my_book]:
book_short_description <span class="o">[</span>This cookiecutter creates a simple boilerplate <span class="k">for </span>a Jupyter Book.]: My first Jupyter Book!
version <span class="o">[</span><span class="s1">'0.1.0'</span><span class="o">]</span>:
Select open_source_license:
1 - MIT license
2 - BSD license
3 - Apache Software License 2.0
4 - CC BY 4.0
5 - CC BY-SA 4.0
6 - None
Choose from 1, 2, 3, 4, 5, 6 <span class="o">[</span>1]:
Select include_ci:
1 - github
2 - gitlab
3 - no
Choose from 1, 2, 3 <span class="o">[</span>1]:
</code></pre></div></div> <ul> <li>Install the book packages</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>my_book
<span class="nv">$ </span>pip <span class="nb">install</span> <span class="nt">-r</span> requirements.txt
</code></pre></div></div> <h3 id="option-2-default">Option 2: default</h3> <ul> <li>Use the official command to create a template.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jb create mybook
</code></pre></div></div> <p>This will create a folder with some template files. The two most important ones are <code class="language-plaintext highlighter-rouge">_toc.yml</code> and <code class="language-plaintext highlighter-rouge">_config.yml</code>.</p> <ul> <li>Create table of content. Inside <code class="language-plaintext highlighter-rouge">_toc.yml</code>, the format should look something like below:</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># In _toc.yml</span>
format: jb-book
root: intro <span class="c"># this is the intro.md file which will be placed at the root directory of the book</span>
chapters:
- file: markdown <span class="c"># a markdown.md file</span>
- file: notebooks <span class="c"># Jupyter notebooks</span>
</code></pre></div></div> <p>Note the file path is relative to the root file (e.g., <code class="language-plaintext highlighter-rouge">intro.md</code>)</p> <ul> <li>configuaration. Edit the <code class="language-plaintext highlighter-rouge">_config.yml</code> file to change the book title, add logo, and a few buttons.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># In _config.yml</span>
title: My sample book
author: The Jupyter Book Community
logo: logo.png
execute:
  execute_notebooks: force <span class="c"># other options include `automatic`, `off`</span>

<span class="c"># Add a bibtex file so that we can create citations</span>
bibtex_bibfiles:
  - references.bib

</code></pre></div></div> <h2 id="build-the-book">Build the book</h2> <p>Once you have added all the contents, you can build the book using</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>my_book/ <span class="c"># or any folder that contains _config.yml</span>
<span class="c"># build the book</span>
jb build <span class="nb">.</span>
</code></pre></div></div> <p>This will create a folder named <code class="language-plaintext highlighter-rouge">_build</code> with generate HTML files which you can preview by opening <code class="language-plaintext highlighter-rouge">_build/html/index.html</code>. Now you can continue updating contents and re-build the book.</p> <h2 id="publish-the-book">Publish the book</h2> <ul> <li>Create a Github repository for the book. E.g., <code class="language-plaintext highlighter-rouge">GITHUB_USER/REPO_NAME.git</code> </li> <li>Initialize the local book with git and push it to Github</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>path/to/book
git init
git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"initialize the repo"</span>
git remote add origin https://github.com/GITHUB_USER/REPO_NAME.git

git push <span class="nt">-u</span> origin main
</code></pre></div></div> <p>Go to your github repo and you will see the pushed material.</p> <ul> <li>Publish it online using GitHub Pages</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># install ghp-import by copying all the book contents to a branch called `gh-pages`</span>
pip <span class="nb">install </span>ghp-import

<span class="c"># build the book </span>
ghp-import <span class="nt">-n</span> <span class="nt">-p</span> <span class="nt">-f</span> ./_build/html
</code></pre></div></div> <p>Now the book should be live at <code class="language-plaintext highlighter-rouge">https://GITHUB_USER.github.io/REPO_NAME/</code></p> <h2 id="update-the-book">Update the book</h2> <h3 id="github-actions-recommended">GitHub Actions (Recommended)</h3> <p>Github Actions automates the process of building JupyterBook. So everytime when you make any changese to the book, it will be built automatically and published online! <strong>If you used the cookie-cutter to create the template, it automatically created this action for you</strong>. You can double check this on GitHub to see if <code class="language-plaintext highlighter-rouge">.github/workflows</code> exists.</p> <ul> <li>Add workflow. Create a folder named <code class="language-plaintext highlighter-rouge">.github/workflows</code> </li> <li>Add a YAML file (e.g., <code class="language-plaintext highlighter-rouge">deploy.yml</code>) and add the following template</li> </ul> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">name</span><span class="pi">:</span> <span class="s">deploy-book</span>

<span class="c1"># Only run this when the master branch changes</span>
<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">main</span>
    <span class="c1"># If your git repository has the Jupyter Book within some-subfolder next to</span>
    <span class="c1"># unrelated files, you can make this run only if a file within that specific</span>
    <span class="c1"># folder has been modified.</span>
    <span class="c1">#</span>
    <span class="c1"># paths:</span>
    <span class="c1"># - some-subfolder/**</span>

<span class="c1"># This job installs dependencies, builds the book, and pushes it to `gh-pages`</span>
<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">deploy-book</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">steps</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v2</span>

    <span class="c1"># Install dependencies</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Set up Python </span><span class="m">3.8</span>
      <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/setup-python@v2</span>
      <span class="na">with</span><span class="pi">:</span>
        <span class="na">python-version</span><span class="pi">:</span> <span class="m">3.8</span>

    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Install dependencies</span>
      <span class="na">run</span><span class="pi">:</span> <span class="pi">|</span>
        <span class="s">pip install -r requirements.txt</span>
    <span class="c1"># Build the book. src is the a subfolder under root. </span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Build the book</span>
      <span class="na">run</span><span class="pi">:</span> <span class="pi">|</span>
        <span class="s">jupyter-book build src </span>
    <span class="c1"># Push the book's HTML to github-pages</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">GitHub Pages action</span>
      <span class="na">uses</span><span class="pi">:</span> <span class="s">peaceiris/actions-gh-pages@v3.6.1</span>
      <span class="na">with</span><span class="pi">:</span>
        <span class="na">github_token</span><span class="pi">:</span> <span class="s">$</span>
        <span class="na">publish_dir</span><span class="pi">:</span> <span class="s">src/_build/html</span>
</code></pre></div></div> <blockquote class="important"> <ul> <li>The branch name should be the same as the one used by the repository (e.g., <code class="language-plaintext highlighter-rouge">main</code> not <code class="language-plaintext highlighter-rouge">master</code> in this case)</li> <li>The only things that need to be modified is the build command <code class="language-plaintext highlighter-rouge">jupyter-book build .</code> and <code class="language-plaintext highlighter-rouge">publish_dir</code>. The dir is relative to the root dir under main branch. So if your book content is at the root dir, use the following instead:</li> </ul> </blockquote> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">jupyter-book build .</span>

<span class="na">publish_dir</span><span class="pi">:</span> <span class="s">./_build/html</span>
</code></pre></div></div> <h3 id="update-manually">Update manually</h3> <p>Just add or modify the contents, rebuild the book and push it to Github.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># cd into dir where the _toc.yml is</span>
<span class="nb">cd </span>my_book/
jb build <span class="nb">.</span> <span class="o">&amp;&amp;</span> ghp-import <span class="nt">-n</span> <span class="nt">-p</span> <span class="nt">-f</span> ./_build/html
</code></pre></div></div> <h2 id="notes">Notes</h2> <ul> <li>For some reason, the url to github repo is incorrect. You can fix this by editing the repository section in <code class="language-plaintext highlighter-rouge">_config.yml</code>. <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c"># Information about where the book exists on the web</span>
repository:
url: https://github.com/hydroaggie/group_handbook  <span class="c"># Online location of your book</span>
</code></pre></div> </div> </li> </ul> <h2 id="helpful-tutorials">Helpful tutorials:</h2> <ul> <li>https://ubc-dsci.github.io/jupyterdays/sessions/beuzen/jupyter_book_tutorial.html</li> <li>https://github.com/pabloinsente/jupyter-book-tutorial</li> </ul> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2022/Publish-Python-Package-on-Pypi/">Publish A Python Package on Pypi</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/Create-Your-Personal-Website-Using-Github-Pages/">Create Your Academic Website using GitHub Pages</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/A-Zotero-to-Obsidian-Workflow/">A Zotero to Obsidian Workflow</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2020/Install-Watershed-Workflow/">Install Watershed Workflow</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2022/Create-Documentation-Website/">Create A Documentation Website using MkDocs</a> </li> <div id="giscus_thread" style="max-width: 800px; margin: 0 auto;"> <script>let giscusTheme=localStorage.getItem("theme"),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"hydroaggie/hydroaggie.github.io","data-repo-id":"R_kgDOKKsF-Q","data-category":"General","data-category-id":"DIC_kwDOKKsF-c4CZL3G","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> © Copyright 2024 Pin Shuai. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: February 12, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-3DFB3Y5C0S"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-3DFB3Y5C0S");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>